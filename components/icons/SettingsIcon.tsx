import React from 'react';
import { View, StyleSheet } from 'react-native';
import Svg, { Path } from 'react-native-svg';

interface SettingsIconProps {
  size?: number;
  color?: string;
  showBackground?: boolean;
  backgroundColor?: string;
}

/**
 * Settings gear icon - FILLED with center cutout built into path
 * Uses exact SVG path provided (25x25 viewBox)
 */
export function SettingsIcon({ 
  size = 24, 
  color = '#810100',
  showBackground = true,
  backgroundColor = 'rgba(129, 1, 0, 0.2)', // #810100 at 20% opacity
}: SettingsIconProps) {
  const containerSize = showBackground ? size * 2 : size;
  
  return (
    <View style={[styles.container, { width: containerSize, height: containerSize }]}>
      {showBackground && (
        <View 
          style={[
            styles.background, 
            { 
              width: containerSize, 
              height: containerSize, 
              borderRadius: containerSize / 2,
              backgroundColor,
            }
          ]} 
        />
      )}
      <Svg width={size} height={size} viewBox="0 0 25 25" fill="none">
        {/* Gear with center cutout - single compound path */}
        <Path
          d="M22.5751 12.5158C22.5798 12.347 22.5798 12.1783 22.5751 12.0095L24.3236 9.82513C24.4152 9.71044 24.4787 9.57582 24.5088 9.43211C24.539 9.28841 24.5349 9.13964 24.497 8.99778C24.2099 7.92054 23.7811 6.88613 23.222 5.92161C23.1487 5.79542 23.047 5.68808 22.9249 5.60812C22.8029 5.52817 22.6638 5.47781 22.5189 5.46106L19.7392 5.15169C19.6236 5.02981 19.5064 4.91263 19.3876 4.80013L19.0595 2.01341C19.0426 1.86834 18.9921 1.72923 18.9119 1.60715C18.8318 1.48508 18.7242 1.38342 18.5978 1.31028C17.6333 0.75159 16.5989 0.323621 15.5216 0.0376268C15.3798 -0.000271486 15.231 -0.00432126 15.0873 0.0258038C14.9436 0.0559289 14.809 0.119386 14.6943 0.211064L12.5158 1.95013C12.347 1.95013 12.1783 1.95013 12.0095 1.95013L9.82513 0.205205C9.71044 0.113527 9.57582 0.0500696 9.43211 0.0199445C9.28841 -0.0101805 9.13964 -0.006131 8.99778 0.0317673C7.92054 0.318909 6.88613 0.747646 5.92161 1.30677C5.79542 1.38004 5.68808 1.48176 5.60812 1.60382C5.52817 1.72589 5.47781 1.86494 5.46106 2.00989L5.15169 4.79427C5.02981 4.91067 4.91263 5.02786 4.80013 5.14583L2.01341 5.46575C1.86834 5.48263 1.72923 5.53316 1.60715 5.61333C1.48508 5.69349 1.38342 5.80106 1.31028 5.92747C0.751705 6.89212 0.32337 7.9265 0.0364549 9.00364C-0.00128313 9.14559 -0.00514294 9.29441 0.0251865 9.43812C0.0555159 9.58183 0.119186 9.7164 0.211064 9.83099L1.95013 12.0095C1.95013 12.1783 1.95013 12.347 1.95013 12.5158L0.205205 14.7001C0.113527 14.8148 0.0500696 14.9494 0.0199445 15.0931C-0.0101805 15.2368 -0.006131 15.3856 0.0317673 15.5275C0.318909 16.6047 0.747646 17.6391 1.30677 18.6036C1.38004 18.7298 1.48176 18.8372 1.60382 18.9171C1.72589 18.9971 1.86494 19.0474 2.00989 19.0642L4.78958 19.3736C4.90599 19.4954 5.02317 19.6126 5.14114 19.7251L5.46575 22.5118C5.48263 22.6569 5.53316 22.796 5.61333 22.9181C5.69349 23.0402 5.80106 23.1418 5.92747 23.215C6.89212 23.7736 7.9265 24.2019 9.00364 24.4888C9.14559 24.5265 9.29441 24.5304 9.43812 24.5001C9.58183 24.4697 9.7164 24.4061 9.83099 24.3142L12.0095 22.5751C12.1783 22.5798 12.347 22.5798 12.5158 22.5751L14.7001 24.3236C14.8148 24.4152 14.9494 24.4787 15.0931 24.5088C15.2368 24.539 15.3856 24.5349 15.5275 24.497C16.6049 24.2104 17.6394 23.7816 18.6036 23.222C18.7298 23.1487 18.8372 23.047 18.9171 22.9249C18.9971 22.8029 19.0474 22.6638 19.0642 22.5189L19.3736 19.7392C19.4954 19.6236 19.6126 19.5064 19.7251 19.3876L22.5118 19.0595C22.6569 19.0426 22.796 18.9921 22.9181 18.9119C23.0402 18.8318 23.1418 18.7242 23.215 18.5978C23.7736 17.6331 24.2019 16.5988 24.4888 15.5216C24.5265 15.3797 24.5304 15.2308 24.5001 15.0871C24.4697 14.9434 24.4061 14.8089 24.3142 14.6943L22.5751 12.5158ZM12.2626 16.9501C11.3355 16.9501 10.4292 16.6752 9.65839 16.1601C8.88754 15.6451 8.28673 14.913 7.93194 14.0565C7.57716 13.1999 7.48433 12.2574 7.6652 11.3481C7.84606 10.4389 8.29251 9.60362 8.94806 8.94806C9.60362 8.29251 10.4389 7.84606 11.3481 7.6652C12.2574 7.48433 13.1999 7.57716 14.0565 7.93194C14.913 8.28673 15.6451 8.88754 16.1601 9.65839C16.6752 10.4292 16.9501 11.3355 16.9501 12.2626C16.9501 13.5058 16.4563 14.6981 15.5772 15.5772C14.6981 16.4563 13.5058 16.9501 12.2626 16.9501Z"
          fill={color}
          fillRule="evenodd"
        />
      </Svg>
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    alignItems: 'center',
    justifyContent: 'center',
  },
  background: {
    position: 'absolute',
  },
});
